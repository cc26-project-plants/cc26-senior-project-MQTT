<!DOCTYPE html>
<html>
  <head>
    <title>MQTT.js</title>
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
  </head>
  <body>
    <p>MQTT.js</p>

    <input type="button" value="Publish" onclick="OnButtonClick()" />

    <script>
      var client = mqtt.connect("ws://localhost:8808");

      client.on("connect", () => {
        console.log("connected");
        client.subscribe("mqtt/message");
      });

      client.on("message", (topic, message) => {
        console.log(topic + " : " + message);
      });

      function OnButtonClick() {
        console.log("onClick");
        client.publish("mqtt/message", "message from mqtt server");
      }
    </script>
  </body>
</html>
